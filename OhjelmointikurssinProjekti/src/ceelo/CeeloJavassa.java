package ceelo;
import java.util.Scanner;
public class CeeloJavassa {

	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		//tarvittavat muuuttujat	
		String nimi;
		//raha1= sinä, raha2= vastustaja
		Double raha1=0.0, raha2=0.0, panos = 0.0;
		//Aloittava on pankki ja sitten vaihtelevasti
		int pankkina=0, tulos1=0, tulos2=0, toistot=3;
		//Ohjelma alkaa
		nimi = Esitys();
		JatkaPeliToiminto();
		Säännöt(nimi);
		JatkaPeliToiminto();
		//Pelaaja syöttää summan, botti saa 3X
		raha1 = Rahanen(nimi);
		raha2 = raha1 * 3;
		PrintRahatilanne(raha1, raha2);
		pankkina = Ekapelaaja();
		if (pankkina == 1) {
		System.out.println("Tämän pelin aloittaa pankkina arvon henkilö: " + nimi + ".");
		} else {
			System.out.println("Tämän pelin aloittaa pankkina arvon herra: Mandariini."); 
			}
		
		//Pelin kulku, aluksi pelaaja syöttää panoksen, missä pankkina = 1 on sinä ja pankkina = 2 on botti
		while (raha1 >= 1000 && raha2 >= 1000) {
			if (pankkina == 2) {
				do { 
					System.out.print("Pankkina toimii Mandariini \nPelaaja " + nimi + " esittää panoksen: ");
					panos = sc.nextDouble();  //alaraja 1000 ja yläraja 500000 sekä oma raha ylärajana
					if (panos < 1000) {
						System.out.println("Tonni on minimi, tämä taidettin jo sinulle kertoakin gweilo." + "\nSyötä uudestaan panos: ");
					}
					if (panos > raha1) {
						System.out.println("Lisää sitten emme laina, koita esittää panos, johon sinulla on varaa.");
					}
					else if (panos > 500000) {
						System.out.println("Ei peli saa loppua liian aikaisin tunari, jännitä meitä pidempään kamu. 50 tonnia on max panos." + "\nSyötä uudestaan panos: ");
					}
				} while (panos < 1000 || panos > 500000 || panos > raha1);
			} 
			if (pankkina == 1) { 
				System.out.print("Pankkina toimii " + nimi + " \nPelaaja Mandariini " + " esittää panoksen: ");
				panos = (double)(Math.random() * ((250000-1000)+1)+1000);  //Botti syöttää vain 250000-0 panoksen välillä
				if (panos > raha1 ) {	//Syöttää panoksesksi pelaajan rahat, jos on yli random
					panos = raha1;
				} 
				if (panos > raha2) {	//Syöttää panokseksi omat rahat, jos on yli random.
					panos = raha2;
				}
			}
			System.out.print("Panoksena on tälle kierrokselle: " + panos + "\n");
			//Pankki heittää 3 noppaa
			do {
				System.out.println("Pankki heittää nopat: ");
				int noppa1 = (int)(Math.random() * 6 +1);
				int noppa2 = (int)(Math.random() * 6 +1);
				int noppa3 = (int)(Math.random() * 6 +1);
				System.out.println("Nopat ovat: " + noppa1 + " " + noppa2 + " " + noppa3);
				
				//kolme eri noppaa tulos 0
				if (noppa1 != noppa2 && noppa1 != noppa3 && noppa2 != noppa3 ) {
					tulos1 = 0;
				}
				//Kaikki nopat samat, tulos on 7
				if (noppa1 == noppa2 && noppa1 == noppa3 && noppa2 == noppa3 ) {
					tulos1 = 7;
				}
				//normi tilanne, tulos on noppa joka on eri kuin muut
				if (noppa1 == noppa2 && noppa1 != noppa3 && noppa2 != noppa3) {
					tulos1 = noppa3;
				}
				//normi tilanne, tulos on noppa joka on eri kuin muut
				if (noppa1 != noppa2 && noppa1 == noppa3 && noppa2 != noppa3) {
					tulos1 = noppa2;
				}
				//normi tilanne, tulos on noppa joka on eri kuin muut
				if (noppa1 != noppa2 && noppa1 != noppa3 && noppa2 == noppa3) {
					tulos1 = noppa1;
				}
				//456 noppa, tulos on 8
				if ((noppa1 + noppa2 + noppa3 == 15) && (noppa1 != noppa2 && noppa1 != noppa3 && noppa2 != noppa3 )) {
					tulos1 = 8;
				}
				//123 noppa, tulos = -1
				if ((noppa1 + noppa2 + noppa3 == 6) && (noppa1 != noppa2 && noppa1 != noppa3 && noppa2 != noppa3 )) {
					tulos1 = -1;
				}
				//111 noppa, tulos 111
				if (noppa1 == 1 && noppa2 == 1 && noppa3 == 1) {
					tulos1 = 111;
				}
				--toistot;
			} while (tulos1 == 0 && toistot > 0);
			
			//Toistojen palautus takaisin arvoon 3
			toistot = 3;
			
			//Jatka toiminto
			JatkaPeliToiminto();
			
			//Pelaaja, eli ei pankki heittää 3 noppaa
			do {
				System.out.println("Pelaaja heittää nopat: ");
				int noppa1 = (int)(Math.random() * 6 +1);
				int noppa2 = (int)(Math.random() * 6 +1);
				int noppa3 = (int)(Math.random() * 6 +1);
				System.out.println("Nopat ovat: " + noppa1 + " " + noppa2 + " " + noppa3);
				
				//kolme eri noppaa tulos 0
				if (noppa1 != noppa2 && noppa1 != noppa3 && noppa2 != noppa3 ) {
					tulos2 = 0;
				}
				//Kaikki nopat samat, tulos on 7
				if (noppa1 == noppa2 && noppa1 == noppa3 && noppa2 == noppa3 ) {
					tulos2 = 7;
				}
				//normi tilanne, tulos on noppa joka on eri kuin muut
				if (noppa1 == noppa2 && noppa1 != noppa3 && noppa2 != noppa3) {
					tulos2 = noppa3;
				}
				//normi tilanne, tulos on noppa joka on eri kuin muut
				if (noppa1 != noppa2 && noppa1 == noppa3 && noppa2 != noppa3) {
					tulos2 = noppa2;
				}
				//normi tilanne, tulos on noppa joka on eri kuin muut
				if (noppa1 != noppa2 && noppa1 != noppa3 && noppa2 == noppa3) {
					tulos2 = noppa1;
				}
				//456 noppa, tulos on 8
				if ((noppa1 + noppa2 + noppa3 == 15) && (noppa1 != noppa2 && noppa1 != noppa3 && noppa2 != noppa3 )) {
					tulos2 = 8;
				}
				//123 noppa, tulos = -1
				if ((noppa1 + noppa2 + noppa3 == 6) && (noppa1 != noppa2 && noppa1 != noppa3 && noppa2 != noppa3 )) {
					tulos2 = -1;
				}
				//111 noppa, tulos 111
				if (noppa1 == 1 && noppa2 == 1 && noppa3 == 1) {
					tulos2 = 111;
				}
				--toistot;
			} while (tulos2 == 0 && toistot > 0);
			
			//Toistojen palautus takaisin arvoon 3
			toistot = 3;
			
			//Jatka toiminto
			JatkaPeliToiminto();
			
			//Panoksen jako, kierroksen voittaja ja häviäjän selvitys normitilanteessa, eli tulos ei ole 123,456,111
			if ((tulos1 > tulos2) && tulos1 != 8 && tulos1 !=111 && tulos1 != -1) {
				if (pankkina == 1) {
					raha1 = raha1 + panos;
					raha2 = raha2 - panos;
				} 
				else if (pankkina ==2) {
					raha2 = raha2 + panos;
					raha1 = raha1 - panos;
				}
				System.out.println("Pankki voitti!");
			}
			if ((tulos2 >= tulos1) && tulos2 != 8 && tulos2 !=111) {
				if (pankkina == 1) {
					raha2 = raha2 + panos;
					raha1 = raha1 - panos;
				}
				else if (pankkina == 2) {
					raha1 = raha1 + panos;
					raha2 = raha2 - panos;
				}
				System.out.println("Pelaaja voitti!");
			}
			//123,456,111 noppien selvitys pankin näkökulmasta
			if (tulos1 == -1) {
				if (pankkina == 1) {
					raha1 = raha1 - panos*2;
					raha2 = raha2 + panos*2;
				} 
				else if (pankkina == 2) {
					raha1 = raha1 + panos*2;
					raha2 = raha2 - panos*2;
				} 
				System.out.println("Pelaaja voitti!");
			}
			if ((tulos1 > tulos2) && tulos1 == 8) {
				if (pankkina == 1) {
					raha1 = raha1 + panos*2;
					raha2 = raha2 - panos*2;
				} 
				else if (pankkina == 2) {
					raha1 = raha1 - panos*2;
					raha2 = raha2 + panos*2;
				} 
				System.out.println("Pankki Voitti!");
			}
			if ((tulos1 > tulos2) && tulos1 == 111) {
				if (pankkina == 1) {
					raha1 = raha1 + panos*3;
					raha2 = raha2 - panos*3;
				}
				else if (pankkina == 2) {
					raha1 = raha1 - panos*3;
					raha2 = raha2 + panos*3;
				} 
				System.out.println("Pankki voitti!");
			}
			//123,456,111 noppien selvitys pelaajan näkökulmasta
			if (tulos2 == -1 && tulos1 != -1) {
				if (pankkina == 1) {
					raha1 = raha1 + panos*2;
					raha2 = raha2 - panos*2;
				}
				else if (pankkina == 2) {
					raha1 = raha1 - panos*2;
					raha2 = raha2 + panos*2;
					}
				System.out.println("Pankki Voitti!");
			}
			if ((tulos2 >= tulos1) && tulos2 == 8) {
				if (pankkina == 1) {
					raha2 = raha2 + panos*2;
					raha1 = raha1 - panos*2;
				} 
				else if (pankkina == 2) {
					raha2 = raha2 - panos*2;
					raha1 = raha1 + panos*2;
				}
				System.out.println("Pelaaja voitti!");
			}
			if ((tulos2 >= tulos1) && tulos2 == 111) {
				if (pankkina == 1) {
					raha2 = raha2 + panos*3;
					raha1 = raha1 - panos*3;
				}
				else if (pankkina == 2) {
					raha2 = raha2 - panos*3;
					raha1 = raha1 + panos*3;
				}
				System.out.println("Pelaaja voitti!");
			}
			
			//Pankin vaihto
			if (pankkina == 1) {
				pankkina = 2;
			} else {
				pankkina = 1;
			}
			PrintRahatilanne(raha1, raha2);
			
			//Jatka toiminto
			JatkaPeliToiminto();
			
		}
		//Ohjelman lopetus
		LopetusCredits(nimi, raha1, raha2);
	}
	
	//Paina nappia jatkaaksesi pelia toiminto
	private static void JatkaPeliToiminto() {
		Scanner sc = new Scanner(System.in);
		String dNappi = "d";
		System.out.println("Paina d-näppäimistöä jatkaaksesi peliä.");
		do {
			dNappi = sc.nextLine();
		} while (!dNappi.equals("d"));
	}

	//Lopputeksti pelin päättyessä
	private static void LopetusCredits(String nimi, double raha1, double raha2) {
		if (raha1 > raha2) {
		System.out.println("\n****Voitit pelin!*****\n"
			+	"Onnea teille, " + nimi + "! Kehhehehehehe, pärjäsit meidän perasta Cee-lo pelaaja vastaan todella mainionsti, liiankin hyvin. Ulkona odottaa taksi, joka vie teidät suoraan lentokentälle ja antaa samaten liput sinne mistä tulitkin. Toivottavsti emme enää tapaa, " + nimi);
		} else {
			System.out.println("\nKätesi, kiitos...\n"
			+ "ja jalanne...\n"
			+ "ja loput elimesi...\n"
			+ "...\n"
			+ "...\n"
			+ "...\n"
			+ "Hävisit pelin, sekä elämäsi. Ruumiisi syötetään koirille, jotka syötetään Triadin jengiläisille. Elämänkierre on ainiain kaunis.");
		}
	}
		

	//Määritellään kuka aloittaa pankkina
	private static int Ekapelaaja() {
		int p1 = (int)(Math.random() * 6);
		int p2 = (int)(Math.random() * 6);
		if (p1 > p2) {
			p1 = 1;
			return p1;
		} else {
			p1 = 2;
			return p1;
		}
	}
	
	//Pelaajan ja bottien rahat esitetään
	private static void PrintRahatilanne(Double raha1, Double raha2) {
		System.out.println("\n\n****Jäljellä oleva rahasi= " + raha1 + " ja Herra Mandariinin jäljellä oleva raha= " + raha2 + " ****");	
	}
	
	//Aloitusrahan määritys
	private static Double Rahanen(String nimi) {
		Scanner sc = new Scanner(System.in);
		double raha;
		System.out.println("\n" + nimi + " , Cee-lo ei ole hauskaa ilman panoksia. Olet pennitön ja vieläpä vihollisten alueella, kaikki asiat tänään ovat sinua vastaan, eikös?"
		+ "\nMuttei hätää, voit lainata meiltä Triadeilta muutaman yuanin, sanotaanko että miljoonaa yunia voisit lainata enimmäkseen. Miten olisi, " + nimi
		+ "\n**Syötä lainaamasi rahamäärä peliä varten**");
		do {
		raha = sc.nextDouble();
		if (raha <= 1000) {
			System.out.println("Selkärangaton roska, luuletko että täällä pelataan Japanin rahoilla?!? Haluatko Menettää nenäsi paskiainen?"
			+ "\nKokeilla uudestaan syöttää raha määrä:");
		} 
		if (raha < 100000 && raha > 1000) {
			System.out.println("Uhkapeluu sielusi on yhtä laimea kuin kestävyytesi sängyssä gweilo... Mutta mikäs siinä, jos häviät, niin joutunet vain enimmäkseen maksamaan kaikki sormesi.");
		}
		if (raha >= 100000 && raha <= 1000000){
			System.out.println(nimi + " ...Heh, tämän takia jouduitkin tänne. MAHTAVAA!");
		} 
		if ( raha > 1000000){
			System.out.println("Rauhoitus vähän, mehän voimme hävitä tässä. Lainata saa vain miljoonaan yuaniin asti.");
		}
		} while (raha <= 1000 || raha > 1000000);
		System.out.println("Herra Mandariini saa summakseen kolminkertaisen määrän sinuun verraten. Älä pistä sitä pahaksesi, talon pitää olla paremmassa asemassa kuin pelaajat.");
		return raha;
	}
	
	//Sääntöjen tulostus
	private static void Säännöt(String nimi) {
		System.out.println("\nKuunteleshan nyt kunnolla " + nimi + ", sillä' tyhmiä ulkomaalaisia emme missään nimessä siedä, ainakaan täysiraajaisina, kweh kweh kweh."
		+ " \n1. Peli pelataan pelaajien ja pankin välillä. Ottelet tällä hetkellä meidän kovinta uhkapeluria Mandariini Ye Qiu:ta vastaan."
		+ "\n2. Vuorotellen pelaajat vaihtavat pankin roolia kellonsuuntaan, mutta koska tällä kertaa on vain 2 pelaajaa, joten vaihdatte pankin roolia keskenänne joka kieroksen välein."
		+ "\n3. Pelaaja aluksi esittää panoksen. Pankki heittää siten kolme noppaa ja saa siitä tuloksen. Sitten pelaajat heittävät kolme noppaa ja saavat siitä tuloksen"
		+ "\n4. Tulokset verrataan keskenään kuten pokerissa, se jolla on paremmat, voittaa koko potin."
		+ "\n5. Tietyissä tuloksissa voi voittaa tupla, tripla tai hävitä tuplasti panokseen verraten."
		+ "\n6. Pelaajalla on etu Triadien säännöillä. Jos Pelaajalla ja pankilla on sama tulos, pelaaja voittaa."
		+ "\n"
		+ "\n** Tulokset saadaan näistä nopan luvuista:**"
		+ "\n"
		+ "\n1. Kaksi samaa noppaa, yksi eri = tulos on eriävä noppa."
		+ "\n2. Kaikki nopat eri = tulos 0.Jos näin käy, saa heittää vielä kahdesti uudestaan, kunnes tulee tulos. Jos ei tulosta, häviää kieroksen."
		+ "\n3. Kolme samaa noppaa = tulos kolmanneksi paras, vain 111 ja 456 päihittää."
		+ "\n4. 456 noppa = tulos toiseksi paras. Pelaaja/pankki tienaa tuplasti panoksen verran"
		+ "\n5. 111 noppa = Paras tulos ja jos pelaaja saa 111 nopan, voittaa hän aina. Pelaaja/pankki tienaa triplasti panoksen verran."
		+ "\n6. 123 noppa = Heti häviää ja menettää tuplasti panoksensa."
		);
		
	}
	
	//Alkupuhe ja nimi selvitys
	public static String Esitys() {
		Scanner sc = new Scanner(System.in);
		System.out.println("Hey! Heräsit vihdoin gweilo. Tiedät varmasti miksi olet täällä tänään, etkö? Herra/Rouva...");
		System.out.print("Anna etunimesi ");
		String nimi = sc.nextLine();
		System.out.println("Nyt, hyvä vieraamme " + nimi + ", taitanet olla tutustunut Cee-lo nimiseen peliin. Täällä päin Hong Kongia pelataan Triad säännöillä.\n"
		+ "Haluannet kuulla säännöt kuitenkin?");
		return nimi;
	}
}
